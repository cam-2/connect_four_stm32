#include "Button_Driver.h"

void button_Init() {

	GPIO_InitTypeDef buttonConfig;
	buttonConfig.Mode = GPIO_MODE_INPUT;
	buttonConfig.Pin = BUTTON_PIN_NUM;

	HAL_GPIO_Init(GPIOA, &buttonConfig);

}

#if COMPILE_BUTTON_INTERRUPTS == 1
void button_Interrupt_Init() {

	GPIO_InitTypeDef buttonConfig;
	buttonConfig.Mode = GPIO_MODE_IT_RISING_FALLING;
	buttonConfig.Pin = BUTTON_PIN_NUM;
	buttonConfig.Pull = GPIO_NOPULL;

	__HAL_RCC_GPIOA_CLK_ENABLE();
    __HAL_RCC_SYSCFG_CLK_ENABLE();
	HAL_GPIO_Init(GPIOA, &buttonConfig);

}
#endif

uint8_t isPressed() {

	return (IS_PRESSED & HAL_GPIO_ReadPin(GPIOA, BUTTON_PIN_NUM));
}
